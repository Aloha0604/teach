

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>【基础】直方图 &mdash; Python&amp;图像处理教程  文档</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=7d86a446"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/translations.js?v=beaddf03"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="【基础】直方图均衡化" href="2.html" />
    <link rel="prev" title="第7章：直方图及其均衡化" href="../G.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Python&图像处理教程
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../Summary/p01.html">计算机视觉概述</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python编程语言</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../PythonTutorial/p01.html">第1章：Python数据类型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PythonTutorial/p02.html">第2章：Python数据结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PythonTutorial/p03.html">第3章：Python流程控制</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PythonTutorial/p04.html">第4章：Python函数详解</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PythonTutorial/p05.html">第5章：Python面向对象</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PythonTutorial/p06.html">第6章：Python包与模块</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">图像处理教程</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../A.html">第1章：图像基本操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="../B.html">第2章：图像阈值处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../C.html">第3章：图像平滑处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../D.html">第4章：图像形态学处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E.html">第5章：图像边缘检测</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F.html">第6章：图像轮廓提取</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../G.html">第7章：直方图及其均衡化</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">【基础】直方图</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">1. 什么是直方图</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">2. 直方图的意义</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">3. 直观理解</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyplot">4. 使用pyplot绘制直方图</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opencv">5. 使用OpenCV绘制直方图</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cv2-calchist">1. 使用cv2.calcHist()函数统计图像直方图信息</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plot">2. plot()函数的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">3．绘制彩色图像直方图</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2.html">【基础】直方图均衡化</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.html">【基础】pyplot模块</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../H.html">第8章：图像金字塔</a></li>
<li class="toctree-l1"><a class="reference internal" href="../I.html">第9章：图像模板匹配</a></li>
<li class="toctree-l1"><a class="reference internal" href="../J.html">第10章：霍夫变换</a></li>
<li class="toctree-l1"><a class="reference internal" href="../K.html">第11章：绘图与交互</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L.html">第12章：视频处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../M.html">第13章：背景建模</a></li>
<li class="toctree-l1"><a class="reference internal" href="../N.html">第14章：傅里叶变换</a></li>
<li class="toctree-l1"><a class="reference internal" href="../O.html">第15章：光流估计</a></li>
<li class="toctree-l1"><a class="reference internal" href="../P.html">第16章：图像拼接</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Q.html">第17章：图像特征匹配</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">案例展示</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../CasesDisplay/A.html">案例展示</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">about me</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../aboutme.html">关于我</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Python&图像处理教程</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../G.html">第7章：直方图及其均衡化</a></li>
      <li class="breadcrumb-item active">【基础】直方图</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/ImageProcessing/i7/1.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>【基础】直方图<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<section id="id2">
<h2>1. 什么是直方图<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<p>在统计学中，直方图（histogram）是一种对数据分布情况的图形表示，是一种二维统计图表，它的两个坐标分别是统计样本（图像、视频帧）和样本的某种属性（亮度，像素值，梯度，方向，色彩等等任何特征）。</p>
<p>也可以这么理解，直方图是对数据的统计，并把统计值显示到事先设定好的bin（矩形条）中，bin中的数值是从数据中计算出的特征的统计量。总之，直方图获取的是数据分布的统计图，通常直方图的维数要低于原始数据。</p>
<p><strong>图像直方图</strong>是用以表示数字图像中亮度分布的直方图，标绘了图像中每个亮度值的像素数。可以借助观察该直方图了解需要如何调整亮度分布的直方图。这种直方图中，**横坐标的左侧为纯黑、较暗的区域，而右侧为较亮、纯白的区域。**因此，一张较暗图片的图像直方图中的数据多集中于左侧和中间部分，而整体明亮、只有少量阴影的图像则相反。计算机视觉邻域常借助图像直方图来实现图像的二值化。</p>
<p><strong>灰度直方图</strong>是一幅图像中像素灰度值出现次数或频数的统计结果，它只反映该图像中灰度值出现的频率，而未反映某一灰度值像素所在的位置。也就是说，它只包含了该图像中某个灰度值的像素出现的概率，而丢失了其所在的位置的信息。任一幅图像，都能唯一地算出一幅与它对应的直方图。但不同的图像，可能有相同的直方图。即图像与直方图之间是多对一的映射关系。</p>
</section>
<section id="id3">
<h2>2. 直方图的意义<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>直方图是图像中像素强度分布的图形表达方式。</p></li>
<li><p>直方图统计了每一个强度值所具有的像素个数。</p></li>
</ul>
<p>直方图广泛应用于许多计算机视觉应用中。通过标记帧和帧之间显著的边缘和颜色的统计变化，来检测视频中场景的变换。通过在每个兴趣点设置一个有相近特征的直方图所构成的标签，用以确定图像中的兴趣点。边缘、色彩、角度等直方图构成了可以被传递给目标识别分类器的一个通用特征类型。色彩和边缘的直方图还可以用来识别网络视频是否被复制等。直方图是计算机视觉中最经典的工具之一，也是一个很好的图像特征表示手段。</p>
</section>
<section id="id4">
<h2>3. 直观理解<a class="headerlink" href="#id4" title="Link to this heading"></a></h2>
<p><img alt="image.png" src="https://pic.rmb.bdstatic.com/bjh/996e1a076322a1d8118605ea159ef509.png" /></p>
<p>它的横坐标表示像素点，纵坐标表示出现的频率（频数）。</p>
<p>也就是统计图像中某个像素点出现的频率（频数）。依据这个定义，这个像素点的范围就是<code class="docutils literal notranslate"><span class="pre">0-255</span></code>。</p>
<p>直方图简单来说就是图像中每个像素值的个数统计，直方图是一种分析图像的手段：</p>
<p><img alt="image.png" src="https://pic.rmb.bdstatic.com/bjh/23d1209a7a52def0600029289b213c14.png" /></p>
</section>
<section id="pyplot">
<h2>4. 使用pyplot绘制直方图<a class="headerlink" href="#pyplot" title="Link to this heading"></a></h2>
<p>模块<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code>提供了一个类似于MATLAB绘图方式的框架，可以使用其中的<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.hist()</span></code>函数（hist()函数）来绘制直方图。</p>
<p>此函数的作用是根据数据源和灰度级分组绘制直方图。其基本语法格式为：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">BINS</span><span class="p">)</span>
</pre></div>
</div>
<p>● <code class="docutils literal notranslate"><span class="pre">X</span></code>：数据源，必须是一维的。图像通常是二维的，需要使用<code class="docutils literal notranslate"><span class="pre">ravel()</span></code>函数将图像处理为一维数据源以后，再作为参数使用。</p>
<p>● <code class="docutils literal notranslate"><span class="pre">BINS</span></code>：BINS的具体值，表示灰度级的分组情况。</p>
<p>函数<code class="docutils literal notranslate"><span class="pre">ravel()</span></code>的作用是将二维数组降维成一维数组。例如，有如下图像a，其值为：</p>
<p>​	<img src="https://pic.rmb.bdstatic.com/bjh/8bad9adbfe67c88c11453012a6c3ee4a.png" alt="image.png" style="zoom:50%;" /></p>
<p>使用函数<code class="docutils literal notranslate"><span class="pre">ravel()</span></code>对a进行处理：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
</pre></div>
</div>
<p>可以得到b为：</p>
<p><img alt="image.png" src="https://pic.rmb.bdstatic.com/bjh/df2304bfff8bd90bb9f72c6e1c49ddcd.png" /></p>
<p><strong>程序演示</strong>：使用<code class="docutils literal notranslate"><span class="pre">hist()</span></code>函数绘制一幅图像的直方图。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;char_W.jpg&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">IMREAD_GRAYSCALE</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;char_W&#39;</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="mi">256</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>
</div>
<p>我们对一张上一节用过的char_W.jpg图像进行直方图绘制，得到效果如下所示</p>
<img src="https://pic.rmb.bdstatic.com/bjh/20773177e6dc3360d98e8fc59e305170.png" alt="image.png" style="zoom:50%;" /></section>
<section id="opencv">
<h2>5. 使用OpenCV绘制直方图<a class="headerlink" href="#opencv" title="Link to this heading"></a></h2>
<section id="cv2-calchist">
<h3>1. 使用cv2.calcHist()函数统计图像直方图信息<a class="headerlink" href="#cv2-calchist" title="Link to this heading"></a></h3>
<p>OpenCV提供了函数<code class="docutils literal notranslate"><span class="pre">cv2.calcHist()</span></code>用来计算图像的统计直方图，该函数能统计各个灰度级的像素点个数。利用<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code>模块中的<code class="docutils literal notranslate"><span class="pre">plot()</span></code>函数，可以将函数<code class="docutils literal notranslate"><span class="pre">cv2.calcHist()</span></code>的统计结果绘制成直方图，函数<code class="docutils literal notranslate"><span class="pre">cv2.calcHist()</span></code>用于统计图像直方图信息，其语法格式为：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hist</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">calcHist</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">[,</span> <span class="n">hist</span><span class="p">[,</span> <span class="n">accumulate</span><span class="p">]])</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hist</span></code>：返回的统计直方图，是一个一维数组，数组内的元素是各个灰度级的像素个数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">images</span></code>：要计算的原图，以方括号的形式传入，如：<code class="docutils literal notranslate"><span class="pre">[img]</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">channels</span></code>：同样用中括号括起来，如果传入图像是灰度图它的值就是[0]；如果是彩色图像，传入的参数可以是[0]、[1]、[2]，分别对应着 <code class="docutils literal notranslate"><span class="pre">B-G-R</span></code>，即统计某个通道的直方图。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mask</span></code>: 掩模图像。当统计整幅图像的直方图时，将这个值设为None。当统计图像某一部分的直方图时，需要用到掩模图像。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">histSize</span></code>：BINS的值，该值需要用“[ ]”括起来。例如，BINS的值是256，需要使用“[256]”作为此参数值。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranges</span></code>: 要计算的像素值范围，一般为[0,255]。</p></li>
</ul>
<p>这个函数的返回值是一个二维的，第一个维度是像素点的范围，第二个维度是像素点的频率。</p>
<p><strong>程序演示</strong>：以<code class="docutils literal notranslate"><span class="pre">lena.jpg</span></code>为例统计其直方图。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;lena.jpg&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">IMREAD_GRAYSCALE</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">&#39;lena&#39;</span><span class="p">,</span> <span class="n">gray</span><span class="p">)</span>


<span class="n">hist</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">calcHist</span><span class="p">([</span><span class="n">gray</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">256</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">])</span>  <span class="c1"># 统计直方图</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>
</div>
<p>● 第1个参数“[gray]”表示要绘制直方图的原始图像，是使用“[ ]”括起来的。</p>
<p>● 第2个参数表示要统计哪个通道的直方图信息。本例中读取的gray是灰度图像，所以使用“[0]”来表示。</p>
<p>● 第3个参数是掩模图像，在本例中的值为“None”，表示计算整幅图像的直方图。</p>
<p>● 第4个参数“[256]”表示BINS的值是256。</p>
<p>● 第5个参数“[0, 255]”表示灰度级的范围是[0, 255]。</p>
<p>运行效果如下：</p>
<p><img alt="image.png" src="https://pic.rmb.bdstatic.com/bjh/80cef63cfdd19d3fb426e5218a607f4e.png" /></p>
</section>
<section id="plot">
<h3>2. plot()函数的使用<a class="headerlink" href="#plot" title="Link to this heading"></a></h3>
<p>使用matplotlib.pyplot模块内的plot()函数，可以将函数cv2.calcHist()的返回值绘制为图像直方图。下面通过三个例子来学习plot()函数的基本使用方法。</p>
<p><strong>程序演示1</strong>：将给定的x= [0,1,2,3,4,5,6], y = [0.3,0.4,2,5,3,4.5,4]，使用plot()函数绘制出来。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>程序演示2</strong>：给定y = [0.3, 0.4, 2, 5, 3, 4.5, 4]，使用plot()函数将其绘制出来，观察绘制结果。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>在使用plot()函数时，如果仅仅指定一个参数，则其对应x轴的值默认是一个自然数序列x=[0, 1, … , n-1, n]。自然序列x的长度与y的长度保持一致。</p>
<p><strong>程序演示3</strong>：使用<code class="docutils literal notranslate"><span class="pre">plot()</span></code>函数将两组不同的值a= [0.3, 0.4, 2, 5, 3, 4.5, 4], b=[3, 5, 1, 2, 1, 5, 3]以不同的颜色绘制出来。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>● color='r’表示绘图曲线的color属性是“red”，即绘图颜色是红色的。</p>
<p>● color='g’表示绘图曲线的color属性是“green”，即绘图颜色是绿色的。</p>
</section>
<section id="id5">
<h3>3．绘制彩色图像直方图<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<p><strong>程序演示</strong>：使用函数<code class="docutils literal notranslate"><span class="pre">plot()</span></code>和函数<code class="docutils literal notranslate"><span class="pre">cv2.calcHist()</span></code>，将彩色图像各个通道的直方图绘制在一个窗口内。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;lena.jpg&#39;</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">IMREAD_COLOR</span><span class="p">)</span>

<span class="n">histb</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">calcHist</span><span class="p">([</span><span class="n">image</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">256</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">])</span>
<span class="n">histg</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">calcHist</span><span class="p">([</span><span class="n">image</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">256</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">])</span>
<span class="n">histr</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">calcHist</span><span class="p">([</span><span class="n">image</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">256</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">histb</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">histg</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">histr</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>先通过函数<code class="docutils literal notranslate"><span class="pre">cv2.calcHist()</span></code>分别得到[0]、[1]、[2]三个通道（即B、G、R三个通道）的统计直方图数据，然后再通过<code class="docutils literal notranslate"><span class="pre">plot()</span></code>函数将这些数据绘制成直方图。</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="../G.html" class="btn btn-neutral float-left" title="第7章：直方图及其均衡化" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="2.html" class="btn btn-neutral float-right" title="【基础】直方图均衡化" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 .</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>